<!doctype html>
<html lang=en dir=auto>
<head>
    <meta charset=utf-8>
    <meta http-equiv=X-UA-Compatible content="IE=edge">
    <meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
    <meta name=robots content="index, follow">
    <title>Integrating Multiple Databases Seamlessly in Distributed System</title>
    <link rel=canonical href=https://smiah.dev/posts/understanding-separation-of-database/>
    <link crossorigin=anonymous href=https://smiah.dev/assets/css/stylesheet.6a98292fb8fa8cf0f3ba4042d4b75515c04267550f3ad49ff6271b5af9562443.css integrity="sha256-apgpL7j6jPDzukBC1LdVFcBCZ1UPOtSf9icbWvlWJEM=" rel="preload stylesheet" as=style>
    <script defer crossorigin=anonymous src=https://smiah.dev/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
    <link rel=icon href=https://smiah.dev/profile.png>
    <link rel=icon type=image/png sizes=16x16 href=https://smiah.dev/profile.png>
    <link rel=icon type=image/png sizes=32x32 href=https://smiah.dev/profile.png>
    <link rel=apple-touch-icon href=https://smiah.dev/profile.png>
    <link rel=mask-icon href=https://smiah.dev/profile.png>
    <meta name=theme-color content="#2e2e33">
    <meta name=msapplication-TileColor content="#2e2e33">
    <link rel=alternate hreflang=en href=https://smiah.dev/posts/integrating-multiple-databases-seamlessly/>
    <noscript>
        <style>
            #theme-toggle,.top-link {
                display: none
            }
        </style>
        <style>
            @media(prefers-color-scheme: dark) {
                :root {
                    --theme:rgb(29, 30, 32);
                    --entry: rgb(46, 46, 51);
                    --primary: rgb(218, 218, 219);
                    --secondary: rgb(155, 156, 157);
                    --tertiary: rgb(65, 66, 68);
                    --content: rgb(196, 196, 197);
                    --hljs-bg: rgb(46, 46, 51);
                    --code-bg: rgb(55, 56, 62);
                    --border: rgb(51, 51, 51)
                }

                .list {
                    background: var(--theme)
                }

                .list:not(.dark)::-webkit-scrollbar-track {
                    background: 0 0
                }

                .list:not(.dark)::-webkit-scrollbar-thumb {
                    border-color: var(--theme)
                }
            }
        </style>
    </noscript>
    <script type=application/ld+json>
        {
            "@context": "https://schema.org",
            "@type": "BreadcrumbList",
            "itemListElement": [
                {
                    "@type": "ListItem",
                    "position": 1,
                    "name": "Posts",
                    "item": "https://smiah.dev/posts/"
                },
                {
                    "@type": "ListItem",
                    "position": 2,
                    "name": "Integrating Multiple Databases Seamlessly in Distributed System",
                    "item": "https://smiah.dev/posts/integrating-multiple-databases-seamlessly/"
                }
            ]
        }</script>
</head>
<body id=top>
<script>
    localStorage.getItem("pref-theme") === "dark" ? document.body.classList.add("dark") : localStorage.getItem("pref-theme") === "light" ? document.body.classList.remove("dark") : window.matchMedia("(prefers-color-scheme: dark)").matches && document.body.classList.add("dark")
</script>
<header class=header>
    <nav class=nav>
        <div class=logo>
            <a href=https://smiah.dev/ accesskey=h title="smiah (Alt + H)">Miah Md Shahjahan</a>
            <div class=logo-switches>
                <button id=theme-toggle accesskey=t title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"/>
                        <line x1="12" y1="1" x2="12" y2="3"/>
                        <line x1="12" y1="21" x2="12" y2="23"/>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                        <line x1="1" y1="12" x2="3" y2="12"/>
                        <line x1="21" y1="12" x2="23" y2="12"/>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
                    </svg>
                </button>
                <ul class=lang-switch>
                    <li>| ðŸ‡©ðŸ‡ª</li>
                </ul>
            </div>
        </div>
        <ul id=menu>
            <li>
                <a href=https://smiah.dev/about title=about>
                    <span>about</span>
                </a>
            </li>
            <li>
                <a href=https://smiah.dev/posts title=posts>
                    <span>posts</span>
                </a>
            </li>
            <li>
                <a href=https://smiah.dev/works title=works>
                    <span>works</span>
                </a>
            </li>
            <li>
                <a href="https://smiah.dev/tags/" title="tags"><span>tags</span></a>
            </li>
            <li>
                <a href="https://smiah.dev/search/" title="search (Alt + /)" accesskey="/">
                    <svg style="vertical-align: middle; margin-top: 2px;" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                        <path d="M10 2a8 8 0 1 0 8 8 8.009 8.009 0 0 0-8-8zm0 14a6 6 0 1 1 6-6 6.007 6.007 0 0 1-6 6zm9 3l-5-5h-1.5l5 5h1.5z"/>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class=main>
    <article class=post-single>
        <header class=post-header>
            <div class=breadcrumbs>
                <a href=https://smiah.dev/>Home</a>
                &nbsp;Â»&nbsp;<a href=https://smiah.dev/posts/>Posts</a>
            </div>
            <h1 class=post-title>Integrating Multiple Databases Seamlessly in Microservices</h1>
        </header>
        <div class=toc>
            <details open>
                <summary accesskey=c title="(Alt + C)">
                    <span class=details>Table of Contents</span>
                </summary>
                <div class=inner>
                    <ul>
                        <li>
                            <a href=#preface aria-label=Preface>Preface</a>
                        </li>

                        <li>
                            <a href=#whyoptformultipledatabases aria-label="Why Opt for Multiple Databases?">Why opt for multiple databases?</a>
                            <ul>
                                <li>
                                    <a href="#isolation" aria-label="Isolation">Isolation</a>
                                </li>
                                <li>
                                    <a href="#scalability" aria-label="Scalability">Scalability</a>
                                </li>
                                <li>
                                    <a href="#flexibility" aria-label="Flexibility">Flexibility</a>
                                </li>
                            </ul>
                        </li>

                        <li>
                            <a href=#usecase aria-label=Usecase>Use case</a>
                        </li>

                        <li>
                            <a href=#challengesandconsiderations aria-label="Challenges and considerations">Challenges and considerations</a>
                            <ul>
                                <li>
                                    <a href="#networkpartitions" aria-label="Network Partitions">Network Partitions</a>
                                </li>
                                <li>
                                    <a href="#nodefailures" aria-label="Node Failures">Node Failures</a>
                                </li>
                                <li>
                                    <a href="#dataconsistency" aria-label="Data Consistency">Data Consistency</a>
                                </li>
                                <li>
                                    <a href="#datareplication" aria-label="Data Replication">Data Replication</a>
                                </li>
                                <li>
                                    <a href="#failurerecovery" aria-label="Failure Recovery">Failure Recovery</a>
                                </li>
                                <li>
                                    <a href="#monitoringandlogging" aria-label="Monitoring and Logging">Monitoring and Logging</a>
                                </li>
                                <li>
                                    <a href="#testing" aria-label="Testing">Testing</a>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <a href=#conclusion aria-label="Conclusion">Conclusion</a>
                        </li>
                    </ul>
                </div>
            </details>
        </div>
        <div class=post-content>
            <p>
                <img loading=lazy src=https://smiah.dev/assets/integrating-multiple-databases-seamlessly.png alt>
            </p>
            <h2 id=preface>
                Preface
                <a hidden class=anchor aria-hidden=true href=#preface>#</a>
            </h2>
            <p>
                In todayâ€™s data-driven landscape, many applications rely on multiple databases to store different types of information. For instance, a product may have separate databases for managing customer data and order information. Integrating these databases efficiently is crucial for building robust and scalable applications.
            <br>
            </br>
                In this article, Iâ€™ll explore how to seamlessly integrate multiple databases using GoLang and PostgreSQL, two powerful technologies widely used in modern software development.

            <h2 id=whyoptformultipledatabases>
            Why opt for multiple databases?
                <a hidden class=anchor aria-hidden=true href=#whyoptformultipledatabases>#</a>
            </h2>
            <p>
                Before diving into the technical aspects, letâ€™s briefly discuss why applications might use multiple databases. Separating data into different databases based on its nature or usage pattern offers several benefits, including:
            </p>
            <ul>
                <li id="isolation">Isolation: Different types of data can be kept separate, reducing the risk of data corruption or unauthorized access.</li>
                <li id="scalability">Scalability: Each database can be scaled independently based on its workload, ensuring optimal performance.</li>
                <li id="flexibility">Flexibility: Developers can choose the most appropriate database technology for each type of data, maximizing efficiency and functionality.</li>
            </ul>
            <h2 id=usecase>
                Use Case
            </h2>
            <p>
                In a hypothetical scenario, we are developing a distributed e-commerce platform where distinct microservices manage customer and order data. When a customer initiates an order, the system requires seamless communication between these microservicesâ€”specifically, the customer service and the order serviceâ€”to ensure a successful transaction.
            <p>
            To achieve this, integration of the databases associated with these microservices, namely the customer database and the order database, becomes important. In particular, it is essential to initiate transactions that encompass operations involving both databases. This ensures that if any part of the transaction fails, the entire transaction is rolled back, maintaining the integrity of the data.
            </p>

            <p>
                Please keep in mind that each microservice has its own database, and when a user places an order, we have to ensure global consistency across all databases.
            </p>

            <div class=toc>
                <details onclose="">
                    <summary accesskey=c title="(Alt + C)">
                        <span class=details>Example using Golang and PostgreSQL</span>
                    </summary>
                    <div class=inner>
                        <h3>
                            Getting Started
                        </h3>
                        <p>
                            To demonstrate the integration of multiple databases in GoLang, weâ€™ll create a simple application that manages customer and order information using PostgreSQL databases. Follow these steps to set up the project:
                        </p>
                        <h3>
                            Step 1: Install Dependencies
                        </h3>
                        <p>
                            Letâ€™s ensure we have GoLang and PostgreSQL installed on our system. Additionally, install the PostgreSQL driver for Go using the following command:
                        </p>
                        <pre><code>go get github.com/lib/pq</code></pre>

                        <h3>
                            Step 2: Set Up PostgreSQL Databases
                        </h3>
                        <p>
                            Letâ€™s create two PostgreSQL databases named customer_db and order_db using preferred PostgreSQL management tool or command line interface:
                        </p>
                        <pre><code>CREATE DATABASE customer_db;
CREATE DATABASE order_db;</code></pre>

                        <h3>
                            Step 3: Define Database Schema
                        </h3>
                        <p>
                            Letâ€™s create tables for customers and orders in their respective databases. Hereâ€™s a simplified schema for demonstration purposes:

                            Customer Table Schema:
                        </p>
                        <pre><code>CREATE TABLE customers (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100),
    email VARCHAR(100)
);</code></pre>
                        Order Table Schema:
                        </p>
                        <pre><code>CREATE TABLE orders (
    id SERIAL PRIMARY KEY,
    customer_id INT,
    product_name VARCHAR(100),
    quantity INT,
    FOREIGN KEY (customer_id) REFERENCES customers(id)
);</code></pre>

                        <h3>
                            Step 4: Connect to Databases in GoLang
                        </h3>
                        <p>
                            Now, letâ€™s write GoLang code to connect to both databases and perform basic operations. Below is a sample code snippet:
                        </p>
                        <pre><code>func main() {
    // Connect to customer database
    customerDB, err := sql.Open("postgres", "postgres://username:password@localhost/customer_db?sslmode=disable")
    if err != nil {
        panic(err)
    }
    defer customerDB.Close()

    // Connect to order database
    orderDB, err := sql.Open("postgres", "postgres://username:password@localhost/order_db?sslmode=disable")
    if err != nil {
        panic(err)
    }
    defer orderDB.Close()

    // Start a transaction on customerDB
    customerTx, err := customerDB.Begin()
    if err != nil {
        panic(err)
    }
    defer func() {
        if err := recover(); err != nil {
            // Rollback the transaction if an error occurs
            customerTx.Rollback()
        }
    }()

    // Start a transaction on orderDB
    orderTx, err := orderDB.Begin()
    if err != nil {
        panic(err)
    }
    defer func() {
        if err := recover(); err != nil {
            // Rollback the transaction if an error occurs
            orderTx.Rollback()
        }
    }()

    // Perform database operations...

    // If all operations succeed, commit the transactions
    err = customerTx.Commit()
    if err != nil {
        panic(err)
    }

    err = orderTx.Commit()
    if err != nil {
        panic(err)
    }

    fmt.Println("Transactions committed successfully.")
}</code></pre>

                    </div>
                </details>
            </div>

            <h2 id=challengesandconsiderations>
                Challenges and Considerations
            </h2>
            <p>
                When designing for a distributed system, itâ€™s crucial to consider various failure scenarios and plan for resilience and fault tolerance. Here are some key aspects to keep in mind before implementing the example:
            </p>

            <h3 id=networkpartitions>
                Network Partitions:
            </h3>
            <p>
                <li>In a distributed system, network partitions can occur, leading to communication failures between nodes or databases.</li>
                <li>Solution: We can implement retry mechanisms with exponential backoff to handle transient network failures. Consider using libraries or frameworks that provide built-in support for resilient network communication, such as gRPC with retries and circuit breakers.</li>
            </p>

            <h3 id=nodefailures>
                Node Failures:
            </h3>
            <p>
                <li>Nodes in the distributed system may fail due to hardware issues, software bugs, or other reasons.</li>
                <li>Solution: We can implement node monitoring and health checks to detect failures promptly. Use techniques such as load balancing and replica sets to ensure high availability and failover capabilities.</li>
            </p>
            <h3 id=dataconsistency>
                Data Consistency:
            </h3>
            <p>
                <li>Maintaining data consistency across multiple databases in a distributed environment can be challenging, especially during network partitions or node failures.</li>
                <li>Solution: We can choose appropriate consistency models based on your application requirements (e.g., eventual consistency, strong consistency). We can implement a distributed transactions or use patterns like Saga for orchestrating distributed transactions across multiple databases while ensuring eventual consistency.</li>
            </p>

            <h3 id=datareplication>
                Data Replication:
            </h3>
            <p>
                <li>Replicating data across multiple nodes or databases is essential for fault tolerance and scalability.</li>
                <li>Solution: We can use replication techniques such as master-slave replication or multi-master replication, depending on your applicationâ€™s requirements. We might consider asynchronous replication with conflict resolution strategies to handle data conflicts gracefully.</li>
            </p>

            <h3 id=failurerecovery>
                Failure Recovery:
            </h3>
            <p>
                <li>When a failure occurs, the system should be able to recover gracefully without losing data or compromising system integrity.</li>
                <li>Solution: We can implement automated recovery procedures, such as automated backups, automated failover, and self-healing mechanisms. We can also design stateful components to be resilient to failures and capable of recovering their state upon restart.</li>
            </p>

            <h3 id=monitoringandlogging>
                Monitoring and Logging:
            </h3>
            <p>
                <li>Comprehensive monitoring and logging are essential for detecting and diagnosing failures in a distributed system.</li>
                <li>Solution: We can use monitoring tools and frameworks to collect metrics, logs, and traces from all components of the system. We can implement alerting mechanisms to notify operators of abnormal behavior or failures.</li>
            </p>
            <h3 id=testing>
                Testing:
            </h3>
            <p>
                <li>Thorough testing, including stress testing and chaos engineering, is crucial for validating the resilience of the distributed system.</li>
                <li>Solution: We can create a robust testing strategy that includes unit tests, integration tests, end-to-end tests, and chaos testing. We can simulate various failure scenarios and observe how the system behaves under stress.</li>
            </p>

            <h2 id=conclusion>
                Conclusion
                <a hidden class=anchor aria-hidden=true href=#conclusion>#</a>
            </h2>
            <p>
                Integrating multiple databases seamlessly in GoLang is essential for building robust and scalable applications. By following the steps outlined in this article, you can effectively manage data across different databases while control and make use of the power of PostgreSQL and GoLang.
                By considering these aspects and planning for resilience and fault tolerance from the outset, we can build a resilient distributed system that is capable of handling failures gracefully and providing high availability and reliability to users.
            </p>
            <blockquote>
                <p>
                    <i>NOTE: I'm constantly delighted to receive feedback. Whether you spot an error, have a suggestion for improvement, or just want to share your thoughts, please don't hesitate to comment/reach out. I truly value connecting with readers!</i>
                </p>
            </blockquote>

            <footer class=post-footer>
                <ul class="post-tags">
                    <li><a href="https://smiah.dev/tags/distributedsystems/">Distributed Systems</a></li>
                </ul>
                <nav class=paginav>
                    <a class=next href=https://smiah.dev/posts/understanding-separation-of-database/>
                        <span class=title>Next Â»</span>
                        <br>
                        <span>Database Separation in Microservices</span>
                    </a></nav>
                <div class=share-buttons>
                    <a target=_blank rel="noopener noreferrer" aria-label="share Integrating Multiple Databases Seamlessly in Microservices on twitter" href="https://twitter.com/intent/tweet/?text=Finched%20Rails%20CLI%20makes%20it%20a%20breeze%20to%20try%20out%20Rails%20withough%20installing%20anything%20but%20Finch&amp;url=https%3a%2f%2fsmiah.dev%2fposts%2fintegrating-multiple-databases-seamlessly%2f&amp;hashtags=finch%2cdocker%2crails">
                        <svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor">
                            <path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/>
                        </svg>
                    </a>
                    <a target=_blank rel="noopener noreferrer" aria-label="share Integrating Multiple Databases Seamlessly in Microservices on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fsmiah.dev%2fposts%2fintegrating-multiple-databases-seamlessly%2f&amp;title=Finched%20Rails%20CLI%20makes%20it%20a%20breeze%20to%20try%20out%20Rails%20withough%20installing%20anything%20but%20Finch&amp;summary=Finched%20Rails%20CLI%20makes%20it%20a%20breeze%20to%20try%20out%20Rails%20withough%20installing%20anything%20but%20Finch&amp;source=https%3a%2f%2fsmiah.dev%2fposts%2fintegrating-multiple-databases-seamlessly%2f">
                        <svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor">
                            <path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/>
                        </svg>
                    </a>
                    <a target=_blank rel="noopener noreferrer" aria-label="share Integrating Multiple Databases Seamlessly in Microservices on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fsmiah.dev%2fposts%2fintegrating-multiple-databases-seamlessly%2f&title=Finched%20Rails%20CLI%20makes%20it%20a%20breeze%20to%20try%20out%20Rails%20withough%20installing%20anything%20but%20Finch">
                        <svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor">
                            <path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/>
                        </svg>
                    </a>
                    <a target=_blank rel="noopener noreferrer" aria-label="share Integrating Multiple Databases Seamlessly in Microservices on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fsmiah.dev%2fposts%2fintegrating-multiple-databases-seamlessly%2f">
                        <svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor">
                            <path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/>
                        </svg>
                    </a>
                </div>
            </footer>

        </div>
    </article>
</main>
<footer class=footer>
    <span>
        &copy;2024 <a href=https://smiah.dev/>smiah.dev</a>
    </span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor">
        <path d="M12 6H0l6-6z"/>
    </svg>
</a>
<script>
    let menu = document.getElementById("menu");
    menu && (menu.scrollLeft = localStorage.getItem("menu-scroll-position"),
            menu.onscroll = function() {
                localStorage.setItem("menu-scroll-position", menu.scrollLeft)
            }
    ),
        document.querySelectorAll('a[href^="#"]').forEach(e=>{
                e.addEventListener("click", function(e) {
                    e.preventDefault();
                    var t = this.getAttribute("href").substr(1);
                    window.matchMedia("(prefers-reduced-motion: reduce)").matches ? document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView() : document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({
                        behavior: "smooth"
                    }),
                        t === "top" ? history.replaceState(null, null, " ") : history.pushState(null, null, `#${t}`)
                })
            }
        )
</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function() {
        document.body.scrollTop > 800 || document.documentElement.scrollTop > 800 ? (mybutton.style.visibility = "visible",
            mybutton.style.opacity = "1") : (mybutton.style.visibility = "hidden",
            mybutton.style.opacity = "0")
    }
</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", ()=>{
            document.body.className.includes("dark") ? (document.body.classList.remove("dark"),
                localStorage.setItem("pref-theme", "light")) : (document.body.classList.add("dark"),
                localStorage.setItem("pref-theme", "dark"))
        }
    )
</script>
<script>
    document.querySelectorAll("pre > code").forEach(e=>{
            const n = e.parentNode.parentNode
                , t = document.createElement("button");
            t.classList.add("copy-code"),
                t.innerHTML = "copy";
            function s() {
                t.innerHTML = "copied!",
                    setTimeout(()=>{
                            t.innerHTML = "copy"
                        }
                        , 2e3)
            }
            t.addEventListener("click", t=>{
                    if ("clipboard"in navigator) {
                        navigator.clipboard.writeText(e.textContent),
                            s();
                        return
                    }
                    const n = document.createRange();
                    n.selectNodeContents(e);
                    const o = window.getSelection();
                    o.removeAllRanges(),
                        o.addRange(n);
                    try {
                        document.execCommand("copy"),
                            s()
                    } catch {}
                    o.removeRange(n)
                }
            ),
                n.classList.contains("highlight") ? n.appendChild(t) : n.parentNode.firstChild == n || (e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE" ? e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t) : e.parentNode.appendChild(t))
        }
    )
</script>
</body></html><script>
    (function() {
            var ws = new WebSocket('ws://' + window.location.host + '/jb-server-page?reloadMode=RELOAD_ON_SAVE&' + 'referrer=' + encodeURIComponent(window.location.pathname));
            ws.onmessage = function(msg) {
                if (msg.data === 'reload') {
                    window.location.reload();
                }
                if (msg.data.startsWith('update-css ')) {
                    var messageId = msg.data.substring(11);
                    var links = document.getElementsByTagName('link');
                    for (var i = 0; i < links.length; i++) {
                        var link = links[i];
                        if (link.rel !== 'stylesheet')
                            continue;
                        var clonedLink = link.cloneNode(true);
                        var newHref = link.href.replace(/(&|\?)jbUpdateLinksId=\d+/, "$1jbUpdateLinksId=" + messageId);
                        if (newHref !== link.href) {
                            clonedLink.href = newHref;
                        } else {
                            var indexOfQuest = newHref.indexOf('?');
                            if (indexOfQuest >= 0) {
                                // to support ?foo#hash
                                clonedLink.href = newHref.substring(0, indexOfQuest + 1) + 'jbUpdateLinksId=' + messageId + '&' + newHref.substring(indexOfQuest + 1);
                            } else {
                                clonedLink.href += '?' + 'jbUpdateLinksId=' + messageId;
                            }
                        }
                        link.replaceWith(clonedLink);
                    }
                }
            }
            ;
        }
    )();
</script>
<script>
    (function() {
        var ws = new WebSocket('ws://' + window.location.host +
            '/jb-server-page?reloadMode=RELOAD_ON_SAVE&'+
            'referrer=' + encodeURIComponent(window.location.pathname));
        ws.onmessage = function (msg) {
            if (msg.data === 'reload') {
                window.location.reload();
            }
            if (msg.data.startsWith('update-css ')) {
                var messageId = msg.data.substring(11);
                var links = document.getElementsByTagName('link');
                for (var i = 0; i < links.length; i++) {
                    var link = links[i];
                    if (link.rel !== 'stylesheet') continue;
                    var clonedLink = link.cloneNode(true);
                    var newHref = link.href.replace(/(&|\?)jbUpdateLinksId=\d+/, "$1jbUpdateLinksId=" + messageId);
                    if (newHref !== link.href) {
                        clonedLink.href = newHref;
                    }
                    else {
                        var indexOfQuest = newHref.indexOf('?');
                        if (indexOfQuest >= 0) {
                            // to support ?foo#hash
                            clonedLink.href = newHref.substring(0, indexOfQuest + 1) + 'jbUpdateLinksId=' + messageId + '&' +
                                newHref.substring(indexOfQuest + 1);
                        }
                        else {
                            clonedLink.href += '?' + 'jbUpdateLinksId=' + messageId;
                        }
                    }
                    link.replaceWith(clonedLink);
                }
            }
        };
    })();
</script>